from numpy import array, uint16, arange

PERMUTE = array([
    228,   6,  79, 206, 117, 185, 242, 167,   9,  30, 180, 222, 230,
    217, 136,  68, 199,  15,  96,  24, 235,  19, 120, 152,  33, 124,
    253, 208,  10, 164, 184,  97, 148, 190, 223,  25,  86,  18,  75,
    137, 196, 176, 239, 181,  45,  66,  16,  67, 215, 201, 177,  38,
    143,  84,  55, 220, 104, 139, 127,  60, 101, 172, 245, 126, 225,
    144, 108, 178,  73, 114, 158,  69, 141, 109, 115, 246, 113, 243,
    90,   29, 170,  82, 111,   5,  56, 132, 154, 162,  65, 186,  85,
    219, 237,  31,  12,  35,  28,  42, 112,  22, 125,  93, 173, 251,
    51,  240,  95, 146, 204,  76,  41, 119, 155,  78, 150,  26, 247,
    168, 118, 193, 140,   0,   2,  77,  46, 100, 205, 159, 183, 254,
    98,   36,  61, 200, 142,  11, 250, 224,  27, 231,   4, 122,  32,
    147, 182, 138,  62, 135, 128, 232, 194,  70, 197,  64,  44, 165,
    156,  40, 123, 153,  23, 192, 249,  81,  39, 244,  47,  94, 195,
    161,  43, 145, 175,   3, 105,  53, 133, 233, 198, 238,  49, 163,
    80,   34, 211,   7, 171, 216, 110,  91,  83, 229, 234,  89,   8,
    13,   59, 221, 131,  17, 166,  72, 226, 134, 209, 236,  63,  54,
    107,  50, 212, 174, 213, 189, 252, 207, 227, 169,  58, 218,  48,
    88,   21,  57, 203, 160, 248, 187, 191, 129,  37, 157, 241,   1,
    52,  149, 130, 151, 103,  99, 116,  87, 202,  74, 214, 210, 121,
    255,  20, 188,  71, 106,  14,  92, 179, 102
], dtype=uint16)

UNPERMUTE = array([
    121, 233, 122, 173, 140,  83,   1, 185, 194,   8,  28, 135,  94,
    195, 252,  17,  46, 199,  37,  21, 248, 222,  99, 160,  19,  35,
    115, 138,  96,  79,   9,  93, 142,  24, 183,  95, 131, 230,  51,
    164, 157, 110,  97, 170, 154,  44, 124, 166, 220, 180, 209, 104,
    234, 175, 207,  54,  84, 223, 218, 196,  59, 132, 146, 206, 153,
    88,   45,  47,  15,  71, 151, 250, 201,  68, 243,  38, 109, 123,
    113,   2, 182, 163,  81, 190,  53,  90,  36, 241, 221, 193,  78,
    189, 253, 101, 167, 106,  18,  31, 130, 239, 125,  60, 255, 238,
    56,  174, 251, 208,  66,  73, 188,  82,  98,  76,  69,  74, 240,
    4,   118, 111,  22, 246, 141, 158,  25, 100,  63,  58, 148, 229,
    236, 198,  85, 176, 203, 147,  14,  39, 145,  57, 120,  72, 134,
    52,   65, 171, 107, 143,  32, 235, 114, 237,  23, 159,  86, 112,
    156, 231,  70, 127, 225, 169,  87, 181,  29, 155, 200,   7, 117,
    217,  80, 186,  61, 102, 211, 172,  41,  50,  67, 254,  10,  43,
    144, 128,  30,   5,  89, 227, 249, 213,  33, 228, 161, 119, 150,
    168,  40, 152, 178,  16, 133,  49, 242, 224, 108, 126,   3, 215,
    27,  204, 245, 184, 210, 212, 244,  48, 187,  13, 219,  91,  55,
    197,  11,  34, 137,  64, 202, 216,   0, 191,  12, 139, 149, 177,
    192,  20, 205,  92, 179,  42, 105, 232,   6,  77, 165,  62,  75,
    116, 226, 162, 136, 103, 214,  26, 129, 247
], dtype=uint16)

GIVEN_BLOCK = array([
    76,  238, 249, 235,  23,  45,  52, 251, 132,  75,  93,  25, 233, 217, 159,
    198,  63,  23,  64,  38, 112,   3,  66, 168,   4, 110,  93,  77,  42,  34,
    29,   34, 164, 113,  84,  77,  66,   2, 208, 243,  61,  51,  16, 203, 145,
    120,  12, 193,  19,  46, 237,  51, 203,  45,   8, 212, 184,   9,  72,  58,
    90,   43,  52,   5,  44,   2, 232, 113, 252, 148, 219, 193, 157, 144,  81,
    52,   90,  37, 199, 230, 106, 223, 113, 252, 183, 139, 197,  78, 241, 138,
    192,  76, 219, 167,   5, 147, 102,  23,  34, 220, 164,  90,  82, 171, 156,
    173, 140,  63,  91,  12,  99,  41, 112,  47, 250, 105,  30, 232, 142, 249,
    104, 201,  19,  27, 174,  65, 253,  97,  89,  50, 103, 212, 143, 144,  55,
    58,  182, 233,  82, 119, 180,  18, 233,  61,  59,  95, 144, 213, 157, 198,
    89,  178, 113,  74,  59, 123, 156,  68, 230, 217,  38, 181,  14,  67, 241,
    70,  128, 128, 238, 141, 116, 117,  18, 213, 175, 152, 241, 130, 254, 182,
    107, 138,  39,  67, 153,   7, 197, 189,   3, 141,  56,  45, 218,  98, 192,
    182, 187, 137, 223, 135, 254,  38, 138,  25, 124,  66, 224, 144,   3, 117,
    216, 208,  21, 234, 241, 194,  72, 102, 223, 185,  92, 144,   3, 201, 109,
    90,  190,   8, 176, 135,  86, 189, 219, 220,   4, 108, 255, 205,  28,  77,
    160, 240, 251, 225,  49,  50, 125, 169, 123,  89, 246, 252,  63,   1, 153,
    7,   213,   0, 116, 186,  69,  18, 135, 187,  87, 254, 250,  42, 182, 180,
    87,   62,  48, 191, 255,  71, 113, 186, 102, 126,  18,   9,   0, 150, 111,
    248,  97,  73, 250,  80, 213,  36, 136, 159, 174,  71, 232,  34,   6, 237,
    41,  106, 173, 131,  91, 185,  79, 125,  29, 153,   8,  83, 226, 254, 170,
    167,  41,  64, 206,  74,  61, 253,  59, 136,  63,  69,  51,  66,  82, 121,
    217, 216,  46,  79, 183, 185, 140, 235, 138, 186,  20, 171, 242,  23,   4,
    165,  85, 244,  91, 223, 105, 141, 152, 204, 138,  25, 156,  50,  15,  24,
    222, 206, 140, 181, 102,  57,  46,  11, 248,  11,  20, 175,   8, 227,  39,
    205,  68, 178, 127,  99, 177,  54,  50, 107,  85,   9, 221,  35, 171,  64,
    118, 225,  83, 214,  57, 193, 197,  59,  19,  86, 177, 212, 208,  31, 242,
    184, 253, 189, 225, 189, 222,  64, 118,  80, 193,  57,  22,  51, 199, 181,
    72,  165, 159, 217, 250, 178, 135, 229,  38,  90,  86, 175,  98, 148, 125,
    161, 247,   8,  29, 115, 162, 134, 182, 104, 180, 127,  21, 173, 211,  82,
    186,   9, 250,  81, 156, 216, 164,  42,  64, 146, 112,  21, 254,  52, 105,
    59,  175, 228, 242, 185,  37,  51, 186, 178, 123,  77, 235,  78, 145,   2,
    220, 204, 112, 203, 220,  66,  64, 116,   9,  56,  27,  43, 113, 160, 186,
    212,  75,  92, 184, 131, 247,  49, 184, 213,  92,   0,  66,  98,  36, 135,
    87,  116
], dtype=uint16)

GIVEN_STATE = uint16(32668)

ALL_UINT8 = arange(0x0100, dtype=uint16)

LOST_ECHO_BITS = (ALL_UINT8 & 0x0007) | ((ALL_UINT8 & 0x00F8) << 8)

UNECHO = array([
    LOST_ECHO_BITS | (echo << 3)
    for echo in ALL_UINT8
], dtype=uint16)

if __name__ == '__main__':
    print("lookup_tables.py originally started as a way to share and")
    print("declutter big tables of numbers at the top of files. Now, in a")
    print("couple cases, it serves as a repository of precomputed numpy")
    print("arrays to makecalculations with multidimensional arrays faster and")
    print("easier tounderstand. The major exception is SHRINK, which existed")
    print("here, but slowed down fdp_optimized by several orders of magnitude")
